(this.webpackJsonprtchess=this.webpackJsonprtchess||[]).push([[0],{78:function(n,e,t){"use strict";t.r(e);var i=t(0),o=t.n(i),r=t(30),c=t.n(r),a=t(10),s=t.n(a),l=t(18),d=t(4),u=t(38),b=t(11);function h(n){var e,t=n.remoteDescription,i=n.iceServers,o=void 0===i?[{urls:"stun:stun.l.google.com:19302"},{urls:"turn:turn.anyfirewall.com:443?transport=tcp",username:"webrtc",credential:"webrtc"}]:i,r=n.onChannelOpen,c=n.onMessageReceived,a=n.onDisconnect,d=new RTCPeerConnection({iceServers:o});function u(){return(u=Object(l.a)(s.a.mark((function n(){var e;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.createOffer();case 2:e=n.sent,d.setLocalDescription(e);case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function b(){return(b=Object(l.a)(s.a.mark((function n(e){var t;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.setRemoteDescription(JSON.parse(e));case 2:return n.next=4,d.createAnswer();case 4:t=n.sent,d.setLocalDescription(t);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function h(n){d.setRemoteDescription(JSON.parse(n))}function p(n){e&&e.send(n)}return new Promise((function(n){d.onicecandidate=function(e){null===e.candidate&&d.localDescription&&(d.localDescription.sdp.replace("b=AS:30","b=AS:1638400"),n({localDescription:JSON.stringify(d.localDescription),setAnswerDescription:h,sendMessage:p}))},d.oniceconnectionstatechange=function(){"disconnected"===d.iceConnectionState&&a()},t?(d.ondatachannel=function(n){var t=n.channel;(e=t).onopen=function(){r()},e.onmessage=function(n){c(n.data)}},function(n){b.apply(this,arguments)}(t)):(function(){try{(e=d.createDataChannel("RTCHESS_CHANNEL_LABEL")).onopen=function(){r()},e.onmessage=function(n){c(n.data)}}catch(n){console.error("No data channel (peerConnection)",n)}}(),function(){u.apply(this,arguments)}())}))}var p,f=t(1);!function(n){n.HOST="HOST",n.SLAVE="SLAVE"}(p||(p={}));var j,m,O,g,v,x=[{urls:"stun:stun.l.google.com:19302"}],y=new u.a,w=Object(i.createContext)({}),S=function(n){var e=n.children,t=Object(i.useState)(void 0),o=Object(d.a)(t,2),r=o[0],c=o[1],a=Object(i.useState)(),u=Object(d.a)(a,2),j=u[0],m=u[1],O=Object(i.useState)(!1),g=Object(d.a)(O,2),v=g[0],S=g[1],C=Object(i.useRef)(),k=Object(i.useCallback)((function(){return S(!0)}),[S]),D=Object(i.useCallback)((function(){S(!1),c(void 0)}),[S,c]),E=Object(i.useCallback)((function(n){try{var e=JSON.parse(n);y.next(e)}catch(t){console.error(t)}}),[]),R=Object(i.useCallback)(Object(l.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof r){n.next=2;break}return n.abrupt("return");case 2:return c(p.HOST),n.next=5,h({iceServers:x,onMessageReceived:E,onChannelOpen:k,onDisconnect:D});case 5:C.current=n.sent,m(b.a.encode(C.current.localDescription));case 7:case"end":return n.stop()}}),n)}))),[r,c,E,k,D,m]),z=Object(i.useCallback)(function(){var n=Object(l.a)(s.a.mark((function n(e){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("undefined"===typeof r){n.next=2;break}return n.abrupt("return");case 2:return c(p.SLAVE),n.next=5,h({iceServers:x,remoteDescription:b.a.decode(e.description),onMessageReceived:E,onChannelOpen:k,onDisconnect:D});case 5:C.current=n.sent,m(b.a.encode(C.current.localDescription));case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[r,c,E,k,D,m]),A=Object(i.useCallback)((function(n){C.current&&C.current.setAnswerDescription(b.a.decode(n.description))}),[]),M=Object(i.useCallback)((function(n){if(C.current){var e=JSON.stringify(n);C.current.sendMessage(e)}}),[]),q=Object(i.useMemo)((function(){return j?{description:j}:void 0}),[j]);return Object(f.jsx)(w.Provider,{value:{mode:r,isConnected:v,localConnectionDescription:q,startAsHost:R,startAsSlave:z,setRemoteConnectionDescription:A,sendMessage:M,peerConnectionSubject:y},children:e})},C=t(2),k=t(3),D=Object(k.b)(j||(j=Object(C.a)(["\n  /*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n  /* Document\n    ========================================================================== */\n\n  /**\n   * 1. Correct the line height in all browsers.\n   * 2. Prevent adjustments of font size after orientation changes in iOS.\n   */\n\n  html {\n    line-height: 1.15; /* 1 */\n    -webkit-text-size-adjust: 100%; /* 2 */\n  }\n\n  /* Sections\n    ========================================================================== */\n\n  /**\n   * Remove the margin in all browsers.\n   */\n\n  body {\n    margin: 0;\n    font-family: 'Source Code Pro', monospace;\n  }\n\n  /**\n   * Render the \"main\" element consistently in IE.\n   */\n\n  main {\n    display: block;\n  }\n\n  /**\n   * Correct the font size and margin on \"h1\" elements within \"section\" and\n   * \"article\" contexts in Chrome, Firefox, and Safari.\n   */\n\n  h1 {\n    font-size: 2em;\n    margin: 0.67em 0;\n  }\n\n  /* Grouping content\n    ========================================================================== */\n\n  /**\n   * 1. Add the correct box sizing in Firefox.\n   * 2. Show the overflow in Edge and IE.\n   */\n\n  hr {\n    box-sizing: content-box; /* 1 */\n    height: 0; /* 1 */\n    overflow: visible; /* 2 */\n  }\n\n  /**\n   * 1. Correct the inheritance and scaling of font size in all browsers.\n   * 2. Correct the odd \"em\" font sizing in all browsers.\n   */\n\n  pre {\n    font-family: monospace, monospace; /* 1 */\n    font-size: 1em; /* 2 */\n  }\n\n  /* Text-level semantics\n    ========================================================================== */\n\n  /**\n   * Remove the gray background on active links in IE 10.\n   */\n\n  a {\n    background-color: transparent;\n  }\n\n  /**\n   * 1. Remove the bottom border in Chrome 57-\n   * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n   */\n\n  abbr[title] {\n    border-bottom: none; /* 1 */\n    text-decoration: underline; /* 2 */\n    text-decoration: underline dotted; /* 2 */\n  }\n\n  /**\n   * Add the correct font weight in Chrome, Edge, and Safari.\n   */\n\n  b,\n  strong {\n    font-weight: bolder;\n  }\n\n  /**\n   * 1. Correct the inheritance and scaling of font size in all browsers.\n   * 2. Correct the odd \"em\" font sizing in all browsers.\n   */\n\n  code,\n  kbd,\n  samp {\n    font-family: monospace, monospace; /* 1 */\n    font-size: 1em; /* 2 */\n  }\n\n  /**\n   * Add the correct font size in all browsers.\n   */\n\n  small {\n    font-size: 80%;\n  }\n\n  /**\n   * Prevent \"sub\" and \"sup\" elements from affecting the line height in\n   * all browsers.\n   */\n\n  sub,\n  sup {\n    font-size: 75%;\n    line-height: 0;\n    position: relative;\n    vertical-align: baseline;\n  }\n\n  sub {\n    bottom: -0.25em;\n  }\n\n  sup {\n    top: -0.5em;\n  }\n\n  /* Embedded content\n    ========================================================================== */\n\n  /**\n   * Remove the border on images inside links in IE 10.\n   */\n\n  img {\n    border-style: none;\n  }\n\n  /* Forms\n    ========================================================================== */\n\n  /**\n   * 1. Change the font styles in all browsers.\n   * 2. Remove the margin in Firefox and Safari.\n   */\n\n  button,\n  input,\n  optgroup,\n  select,\n  textarea {\n    font-family: inherit; /* 1 */\n    font-size: 100%; /* 1 */\n    line-height: 1.15; /* 1 */\n    margin: 0; /* 2 */\n  }\n\n  /**\n   * Show the overflow in IE.\n   * 1. Show the overflow in Edge.\n   */\n\n  button,\n  input {\n    /* 1 */\n    overflow: visible;\n  }\n\n  /**\n   * Remove the inheritance of text transform in Edge, Firefox, and IE.\n   * 1. Remove the inheritance of text transform in Firefox.\n   */\n\n  button,\n  select {\n    /* 1 */\n    text-transform: none;\n  }\n\n  /**\n   * Correct the inability to style clickable types in iOS and Safari.\n   */\n\n  button,\n  [type='button'],\n  [type='reset'],\n  [type='submit'] {\n    -webkit-appearance: button;\n  }\n\n  /**\n   * Remove the inner border and padding in Firefox.\n   */\n\n  button::-moz-focus-inner,\n  [type='button']::-moz-focus-inner,\n  [type='reset']::-moz-focus-inner,\n  [type='submit']::-moz-focus-inner {\n    border-style: none;\n    padding: 0;\n  }\n\n  /**\n   * Restore the focus styles unset by the previous rule.\n   */\n\n  button:-moz-focusring,\n  [type='button']:-moz-focusring,\n  [type='reset']:-moz-focusring,\n  [type='submit']:-moz-focusring {\n    outline: 1px dotted ButtonText;\n  }\n\n  /**\n   * Correct the padding in Firefox.\n   */\n\n  fieldset {\n    padding: 0.35em 0.75em 0.625em;\n  }\n\n  /**\n   * 1. Correct the text wrapping in Edge and IE.\n   * 2. Correct the color inheritance from \"fieldset\" elements in IE.\n   * 3. Remove the padding so developers are not caught out when they zero out\n   *    \"fieldset\" elements in all browsers.\n   */\n\n  legend {\n    box-sizing: border-box; /* 1 */\n    color: inherit; /* 2 */\n    display: table; /* 1 */\n    max-width: 100%; /* 1 */\n    padding: 0; /* 3 */\n    white-space: normal; /* 1 */\n  }\n\n  /**\n   * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n   */\n\n  progress {\n    vertical-align: baseline;\n  }\n\n  /**\n   * Remove the default vertical scrollbar in IE 10+.\n   */\n\n  textarea {\n    overflow: auto;\n  }\n\n  /**\n   * 1. Add the correct box sizing in IE 10.\n   * 2. Remove the padding in IE 10.\n   */\n\n  [type='checkbox'],\n  [type='radio'] {\n    box-sizing: border-box; /* 1 */\n    padding: 0; /* 2 */\n  }\n\n  /**\n   * Correct the cursor style of increment and decrement buttons in Chrome.\n   */\n\n  [type='number']::-webkit-inner-spin-button,\n  [type='number']::-webkit-outer-spin-button {\n    height: auto;\n  }\n\n  /**\n   * 1. Correct the odd appearance in Chrome and Safari.\n   * 2. Correct the outline style in Safari.\n   */\n\n  [type='search'] {\n    -webkit-appearance: textfield; /* 1 */\n    outline-offset: -2px; /* 2 */\n  }\n\n  /**\n   * Remove the inner padding in Chrome and Safari on macOS.\n   */\n\n  [type='search']::-webkit-search-decoration {\n    -webkit-appearance: none;\n  }\n\n  /**\n   * 1. Correct the inability to style clickable types in iOS and Safari.\n   * 2. Change font properties to \"inherit\" in Safari.\n   */\n\n  ::-webkit-file-upload-button {\n    -webkit-appearance: button; /* 1 */\n    font: inherit; /* 2 */\n  }\n\n  /* Interactive\n    ========================================================================== */\n\n  /*\n  * Add the correct display in Edge, IE 10+, and Firefox.\n  */\n\n  details {\n    display: block;\n  }\n\n  /*\n  * Add the correct display in all browsers.\n  */\n\n  summary {\n    display: list-item;\n  }\n\n  /* Misc\n    ========================================================================== */\n\n  /**\n   * Add the correct display in IE 10+.\n   */\n\n  template {\n    display: none;\n  }\n\n  /**\n   * Add the correct display in IE 10.\n   */\n\n  [hidden] {\n    display: none;\n  }\n"]))),E=Object(k.a)(m||(m=Object(C.a)(["\n  ",";\n\n  html, body {\n    font-family: Lucida Console, Courier, monospace;\n    color: black;\n    font-size: 10px;\n  }\n\n  html {\n    box-sizing: border-box;\n  }\n\n  *, *:before, *:after {\n    box-sizing: inherit;\n  }\n"])),D),R=t(42),z=t.n(R),A=k.c.button(O||(O=Object(C.a)(["\n  background-color: black;\n  color: white;\n  outline: none;\n  border: none;\n  padding: 1vh 2vh;\n  font-size: 1.5vh;\n  display: ","\n"])),(function(n){return n.hide?"none":"default"})),M=t.p+"static/media/logo.f8f94c84.svg",q=k.c.div(g||(g=Object(C.a)(["\n  width: 95%;\n  margin-left: 2%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2.5vh 2vw 2vh 2vw;\n  img {\n    max-width: 200px;\n  }\n"])));function T(n){var e=n.onClickButton,t=n.hideButton;return Object(f.jsxs)(q,{children:[Object(f.jsx)("a",{href:"/",children:Object(f.jsx)("img",{src:M,alt:"logo"})}),Object(f.jsx)(A,{hide:t,onClick:e,children:"Play Now"})]})}var P=k.c.div(v||(v=Object(C.a)(["\nwidth: 100%;\nfont-weight: 600;\ndisplay: flex;\njustify-content: center;\nalign-items: center;\nfont-size: 1.5vh;\nmargin-top: 5vh;\na {\n  color: #5BA02D;\n  &:visited {\n    color: #5BA02D;\n  }\n}\n"]))),N=Object(i.memo)((function(){return Object(f.jsx)(P,{children:Object(f.jsxs)("span",{children:["Made with WebRTC and \ud83d\udc96 by ",Object(f.jsx)("a",{href:"https://arora-aditya.com",target:"_blank",rel:"noreferrer",children:"Aditya Arora"})]})})})),I=t(43),H=t.n(I),F=t(17),L=t(16),B=t(13);function J(n){var e=n.pieceSquare,t=n.history,i=t.length&&t[t.length-1].from,o=t.length&&t[t.length-1].to;return Object(B.a)(Object(B.a)(Object(L.a)({},e,{backgroundColor:"rgba(255, 255, 0, 0.4)"}),t.length&&Object(L.a)({},i,{backgroundColor:"rgba(255, 255, 0, 0.4)"})),t.length&&Object(L.a)({},o,{backgroundColor:"rgba(255, 255, 0, 0.4)"}))}var _,G,K=function(n,e,t,i){var r=o.a.useState({}),c=Object(d.a)(r,2),a=c[0],s=c[1],l=o.a.useState({}),u=Object(d.a)(l,2),b=u[0],h=u[1],p=o.a.useState(""),f=Object(d.a)(p,2),j=f[0],m=f[1],O=o.a.useState([]),g=Object(d.a)(O,2),v=g[0],x=g[1];return{position:e,onDrop:function(e){var o=e.sourceSquare,r=e.targetSquare;n.turn()===i[0]&&(n.game_over()||null!==n.move({from:o,to:r,promotion:"q"})&&(t(n.fen()),x(n.history({verbose:!0})),h(J({pieceSquare:j,history:v}))))},onMouseOverSquare:function(e){var t=n.moves({square:e,verbose:!0});if(0!==t.length){for(var i=[],o=0;o<t.length;o++)i.push(t[o].to);!function(n,e){var t=[n].concat(Object(F.a)(e)).reduce((function(n,e){return Object(B.a)(Object(B.a)(Object(B.a)({},n),Object(L.a)({},e,{background:"rgba(44, 230, 44, 0.219)"})),J({history:v,pieceSquare:j}))}),{});h(Object(B.a)(Object(B.a)({},b),t))}(e,i)}},onMouseOutSquare:function(n){h(J({pieceSquare:j,history:v}))},onDragOverSquare:function(n){s("e4"===n||"d4"===n||"e5"===n||"d5"===n?{backgroundColor:"cornFlowerBlue"}:{boxShadow:"inset 0 0 1px 4px rgb(255, 255, 0)"})},onSquareClick:function(e){n.turn()===i[0]&&(m(e),null!==n.move({from:j,to:e,promotion:"q"})&&(t(n.fen()),x(n.history({verbose:!0})),m("")))},squareStyles:b,dropStyle:a}},V=t(44),W=t.n(V),X=t(32),Q=t.n(X);!function(n){n.ME="ME",n.STRANGER="FRIEND"}(_||(_={})),function(n){n.TEXT="TEXT",n.CHESS="CHESS"}(G||(G={}));var U,Y,Z,$,nn,en,tn,on,rn,cn,an,sn,ln=new(t(79).a),dn=Object(i.createContext)(ln),un=function(){var n=Object(i.useContext)(dn),e=Object(i.useState)([]),t=Object(d.a)(e,2),o=t[0],r=t[1];return Object(i.useEffect)((function(){var e=n.subscribe((function(n){r((function(e){return[].concat(Object(F.a)(e),[n])}))}));return function(){return e.unsubscribe()}}),[n,r]),{chatMessages:o,sendChatMessage:Object(i.useCallback)((function(e){n.next(e)}),[n])}},bn=function(){var n=un(),e=n.chatMessages,t=n.sendChatMessage,o=function(){var n=Object(i.useContext)(w);return{mode:n.mode,isConnected:n.isConnected,localConnectionDescription:n.localConnectionDescription,startAsHost:n.startAsHost,startAsSlave:n.startAsSlave,setRemoteConnectionDescription:n.setRemoteConnectionDescription,sendMessage:n.sendMessage}}(),r=o.mode,c=o.isConnected,a=o.localConnectionDescription,s=o.startAsHost,l=o.startAsSlave,d=o.setRemoteConnectionDescription,u=o.sendMessage;return{mode:r,isConnected:c,localConnectionDescription:a,chatMessages:e,startAsHost:s,startAsSlave:l,setRemoteConnectionDescription:d,sendTextChatMessage:Object(i.useCallback)((function(n){var e={id:Q.a.generate(),sender:_.STRANGER,type:G.TEXT,timestamp:+new Date,payload:n};u(e),t({id:e.id,sender:_.ME,timestamp:e.timestamp,text:e.payload})}),[u,t]),sendChessMessage:Object(i.useCallback)((function(n){var e={id:Q.a.generate(),sender:_.STRANGER,type:G.CHESS,timestamp:+new Date,payload:n};u(e)}),[u])}},hn=function(n){var e=un().sendChatMessage;!function(n){var e=Object(i.useContext)(w).peerConnectionSubject;Object(i.useEffect)((function(){var t=e.subscribe(n);return function(){return t.unsubscribe()}}),[e,n])}(Object(i.useCallback)((function(t){t.type===G.TEXT?e({id:t.id,sender:_.STRANGER,timestamp:t.timestamp,text:t.payload}):t.type===G.CHESS&&n(t.payload)}),[e,n]))},pn=k.c.div(U||(U=Object(C.a)([""]))),fn=k.c.div(Y||(Y=Object(C.a)(["\n"]))),jn=k.c.div(Z||(Z=Object(C.a)(["\n"]))),mn=Object(i.memo)((function(n){var e=n.chatMessage;return Object(f.jsxs)(jn,{children:[Object(f.jsxs)(fn,{children:[Object(f.jsx)("span",{children:e.sender===_.ME?"Me":"Friend"})," (",new Date(e.timestamp).toLocaleTimeString(),")"]}),Object(f.jsx)(pn,{children:e.text})]})})),On=Object(i.memo)((function(n){var e=n.chatMessage;return Object(f.jsx)(mn,{chatMessage:e})})),gn=k.c.textarea($||($=Object(C.a)(["\n  display: block;\n  font-size: 10px;\n  width: 100%;\n  height: 30px;\n  border: 1px solid black;\n  outline: none;\n  background-image: none;\n  appearance: none;\n  background-color: transparent;\n  box-shadow: none;\n"]))),vn=Object(k.c)(A)(nn||(nn=Object(C.a)(["\n"]))),xn=Object(k.c)(gn)(en||(en=Object(C.a)(["\n"]))),yn=k.c.form(tn||(tn=Object(C.a)(["\n"]))),wn=k.c.div(on||(on=Object(C.a)(["\n"]))),Sn=k.c.div(rn||(rn=Object(C.a)(["\n\n  overflow: auto; \n  display: flex; \n  max-height: 10vh;\n  width: 80vw;\n  @media (min-width: 768px) {\n    max-height: 550px;\n    width: 20vw;\n  }\n  flex-direction: column-reverse;\n"]))),Cn=k.c.div(cn||(cn=Object(C.a)(["\n"]))),kn=Object(i.memo)((function(){var n=bn(),e=n.chatMessages,t=n.sendTextChatMessage,o=Object(i.useState)(""),r=Object(d.a)(o,2),c=r[0],a=r[1],s=Object(i.useRef)(),l=Object(i.useCallback)((function(){t(c),a("")}),[t,c,a]),u=Object(i.useCallback)((function(n){n.preventDefault(),n.stopPropagation(),a(n.target.value)}),[a]),b=Object(i.useCallback)((function(n){13!==n.which&&13!==n.keyCode||n.shiftKey||s.current&&(n.preventDefault(),n.stopPropagation(),l())}),[l]),h=Object(i.useCallback)((function(n){n.preventDefault(),n.stopPropagation(),l()}),[l]);return Object(f.jsxs)(Cn,{children:[Object(f.jsx)(Sn,{children:Object(f.jsx)(wn,{children:e.map((function(n){return Object(f.jsx)(On,{chatMessage:n},n.id)}))})}),Object(f.jsxs)(yn,{ref:s,onSubmit:h,children:[Object(f.jsx)(xn,{placeholder:"Message...",value:c,onChange:u,onKeyDown:b}),Object(f.jsx)(vn,{type:"submit",children:"Send"})]})]})})),Dn=k.c.div(an||(an=Object(C.a)(["\n  height: 80vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n"]))),En=k.c.div(sn||(sn=Object(C.a)(["\n  width: 80vw;\n  display: flex;\n  flex-direction: column;\n  @media (min-width: 768px) {\n    flex-direction: row;\n  }\n  align-items: center;\n  justify-content: space-around;\n"])));function Rn(n){var e=n.game,t=n.fen,r=n.setFen,c=n.position,a=void 0===c?"start":c,s=(n.onDropOption,n.onClickOption,n.options,n.orientation),l=bn().sendChessMessage;e.load(a);var u=K(e,t,r,s),b=u.onMouseOverSquare,h=u.onMouseOutSquare,p=u.onDragOverSquare,j=u.onSquareClick,m=u.dropStyle,O=u.squareStyles,g=u.onDrop,v=o.a.useState(window.innerWidth),x=Object(d.a)(v,2),y=x[0],w=x[1],S=Object(i.useCallback)((function(){l(a)}),[l,a]);Object(i.useEffect)((function(){window.onresize=function(){w(window.innerWidth)}}),[]);return Object(i.useEffect)((function(){var n=new W.a(a);s[0]!==n.turn&&S()}),[a,s,S]),Object(f.jsx)(Dn,{children:Object(f.jsxs)(En,{children:[Object(f.jsx)(H.a,{id:"humanvshuman",boardStyle:{borderRadius:"5px",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.5)"},calcWidth:function(){return y<700?y-10:600},position:a,onDrop:g,onMouseOverSquare:b,onMouseOutSquare:h,onDragOverSquare:p,onSquareClick:j,squareStyles:O,dropSquareStyle:m,transitionDuration:0,orientation:s}),Object(f.jsx)(kn,{})]})})}var zn,An,Mn,qn,Tn,Pn,Nn,In=t(27),Hn=t(45),Fn=Object(Hn.a)({description:function(n){return"string"===typeof n&&n.length>0?void 0:"required"}});function Ln(n){return b.a.encode(JSON.stringify(n))}function Bn(n){return JSON.parse(b.a.decode(n))}var Jn,_n,Gn,Kn,Vn,Wn,Xn,Qn,Un,Yn,Zn,$n,ne,ee,te,ie,oe=Object(k.c)(gn)(zn||(zn=Object(C.a)(["\n  width: 100px;\n"]))),re=Object(k.c)(A)(An||(An=Object(C.a)(["\n  width: 100px;\n  margin-top: 4px;\n"]))),ce=k.c.div(Mn||(Mn=Object(C.a)([""]))),ae=k.c.form(qn||(qn=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),se=k.c.div(Tn||(Tn=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  justify-content: space-around;\n"]))),le=k.c.div(Pn||(Pn=Object(C.a)(["\n  font-size: 1.5vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  button {\n    margin: 1vh;\n    width: fit-content;\n  }\n  hr {\n    width: 90%;\n  }\n  textarea {\n  }\n"]))),de=k.c.div(Nn||(Nn=Object(C.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  width: 4vh;\n  height: 4vh;\n  font-size: 1.5vh;\n  background-color: black;\n  color: white;\n  border-radius: 50%;\n  transform: translate(0px, -2.5vh);\n  > span {\n    transform: translate(0.5px, -1.5px);\n    line-height: 1;\n  }\n"]))),ue=Object(i.memo)((function(){var n=bn(),e=n.startAsHost,t=n.startAsSlave,r=o.a.useState(""),c=Object(d.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)(""),u=Object(d.a)(l,2),b=u[0],h=u[1];return Object(f.jsxs)(se,{children:[Object(f.jsx)(le,{children:Object(f.jsx)(A,{onClick:function(n){n.preventDefault(),n.stopPropagation(),e()},children:"Start new"})}),Object(f.jsxs)(le,{children:[Object(f.jsx)("hr",{}),Object(f.jsx)(de,{children:Object(f.jsx)("span",{children:"or"})})]}),Object(f.jsx)(le,{children:Object(f.jsxs)(ae,{onSubmit:function(n){n.preventDefault(),n.stopPropagation();try{var e=Bn(a);if(Fn(e))throw new Error;t(e)}catch(b){h("Connection Description invalid!")}},children:[Object(f.jsx)(oe,{value:a,onChange:function(n){n.preventDefault(),n.stopPropagation(),h(""),s(n.target.value)},placeholder:"Paste invitation code here..."}),!!b&&Object(f.jsx)(ce,{children:b}),Object(f.jsx)(re,{type:"submit",children:"Join"})]})})]})})),be=t(26),he=t.n(be),pe=k.c.div(Jn||(Jn=Object(C.a)([""]))),fe=Object(k.c)(gn)(_n||(_n=Object(C.a)(["\n  margin-bottom: 1vh;\n"]))),je=k.c.form(Gn||(Gn=Object(C.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]))),me=k.c.div(Kn||(Kn=Object(C.a)(["\n  color: black;\n  margin-bottom: 1vh;\n  margin-top: 1vh;\n"]))),Oe=k.c.div(Vn||(Vn=Object(C.a)(["\n  position: absolute;\n  top: 8px;\n  left: 8px;\n  width: 2vh;\n  height: 2vh;\n  background-color: black;\n  color: white;\n  border-radius: 50%;\n  line-height: 1;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n\n  > span {\n    display: inline-block;\n    // transform: translate(-0.2vh, -0.2vh);\n  }\n"]))),ge=k.c.div(Wn||(Wn=Object(C.a)(["\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 24px;\n  border-top: none;\n"]))),ve=k.c.div(Xn||(Xn=Object(C.a)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  font-size: 1.5vh;\n  flex-direction: column;\n  justify-content: space-around;\n"]))),xe=Object(i.memo)((function(){var n=bn(),e=n.localConnectionDescription,t=n.setRemoteConnectionDescription,o=Object(i.useState)(""),r=Object(d.a)(o,2),c=r[0],a=r[1],s=Object(i.useState)(""),l=Object(d.a)(s,2),u=l[0],b=l[1],h=Object(i.createRef)(),p=Ln(e);return Object(f.jsxs)(ve,{children:[Object(f.jsxs)(ge,{children:[Object(f.jsx)(Oe,{children:Object(f.jsx)("span",{children:"1"})}),Object(f.jsx)(me,{children:"Send this code to your buddy:"}),Object(f.jsx)(fe,{ref:h,value:p,readOnly:!0}),Object(f.jsx)(A,{onClick:function(){h.current&&(h.current.select(),he()(p))},children:"Copy to clipboard"})]}),Object(f.jsxs)(ge,{children:[Object(f.jsx)(Oe,{children:Object(f.jsx)("span",{children:"2"})}),Object(f.jsxs)(je,{onSubmit:function(n){try{n.stopPropagation(),n.preventDefault();var e=Bn(c);if(Fn(e))throw new Error;t(e)}catch(u){b("Connection Description invalid!")}},children:[Object(f.jsx)(me,{children:"Code from your buddy:"}),Object(f.jsx)(fe,{value:c,onChange:function(n){n.preventDefault(),n.stopPropagation(),b(""),a(n.target.value)},placeholder:"Paste an answer code"}),!!u&&Object(f.jsx)(pe,{children:u}),Object(f.jsx)(A,{type:"submit",children:"Connect"})]})]})]})})),ye=Object(k.c)(A)(Qn||(Qn=Object(C.a)(["\n  margin-top: 1vh;\n"]))),we=Object(k.c)(gn)(Un||(Un=Object(C.a)(["\n  width: 70%;\n"]))),Se=k.c.div(Yn||(Yn=Object(C.a)(["\n  font-size: 1.5vh;\n  color: black;\n  margin-bottom: 1vh;\n"]))),Ce=k.c.div(Zn||(Zn=Object(C.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 24px;\n"]))),ke=k.c.div($n||($n=Object(C.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]))),De=Object(i.memo)((function(){var n=bn().localConnectionDescription,e=Object(i.createRef)(),t=Ln(n);return Object(f.jsx)(ke,{children:Object(f.jsxs)(Ce,{children:[Object(f.jsx)(Se,{children:"Send back this code back to your friend"}),Object(f.jsx)(we,{ref:e,value:t,readOnly:!0}),Object(f.jsx)(ye,{onClick:function(){e.current&&(e.current.select(),he()(t))},children:"Copy to clipboard"})]})})})),Ee=t.p+"static/media/message_undraw.58f7be79.svg",Re=t.p+"static/media/share_undraw.8870c8da.svg",ze=k.c.div(ne||(ne=Object(C.a)(["\n"]))),Ae=k.c.div(ee||(ee=Object(C.a)(["\n"]))),Me=k.c.div(te||(te=Object(C.a)(["\n  margin-left: 5%;\n  width: 90%;\n  display: flex;\n  align-items: center;\n  justify-items: space-between;\n  justify-content: center;\n  flex-direction: column;\n  @media (min-width: 768px) {\n    flex-direction: ","\n  }\n  img {\n    width: 80%;\n    @media (min-width: 768px) {\n      width: 70%;\n    }\n    margin-top: 5vh;\n    margin-bottom: 5vh;\n  }\n"])),(function(n){return n.reversed?"row-reverse":"row"})),qe=k.c.div(ie||(ie=Object(C.a)(["\n  width: 100%;\n  @media (min-width: 768px) {\n    width: 60%;\n  }\n  font-size: 2vh;\n  margin: 2vh;\n  margin-left: 5vh;\n  margin-bottom: 5vh;\n  font-weight: 900;\n  @media only screen and (max-width: 900px){\n    width: 70%;\n  }\n"]))),Te=new("function"===typeof In?In:In.Chess),Pe=Object(i.memo)((function(){var n=bn(),e=n.mode,t=n.isConnected,o=Object(i.useState)(!1),r=Object(d.a)(o,2),c=r[0],a=r[1],s=Object(i.useState)("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),l=Object(d.a)(s,2),u=l[0],b=l[1];return hn((function(n){Te.load(n),b(n)})),Object(f.jsxs)(Ae,{children:[Object(f.jsx)(T,{onClickButton:function(){return a(!0)},hideButton:t}),!t&&Object(f.jsxs)(ze,{children:[Object(f.jsxs)(Me,{children:[Object(f.jsx)(qe,{children:"Serverless Chess with friends with the ability to analyse and share games!"}),Object(f.jsx)("img",{src:Ee,alt:"people messaging on phone drawing"})]}),Object(f.jsxs)(Me,{reversed:!0,children:[Object(f.jsxs)(qe,{children:["Simply share the invite codes between devices and instantly start playing!",Object(f.jsx)("br",{}),"No data recorded anywhere!"]}),Object(f.jsx)("img",{src:Re,alt:"sharing drawing"})]}),Object(f.jsxs)(z.a,{style:{content:{height:"50%",top:"50%",left:"50%",right:"auto",bottom:"auto",padding:"3vh 3vh",marginRight:"-50%",transform:"translate(-50%, -50%)"}},isOpen:c,onRequestClose:function(){return a(!1)},contentLabel:"Start New or Join",children:[!e&&Object(f.jsx)(ue,{}),e===p.HOST&&!t&&Object(f.jsx)(xe,{}),e===p.SLAVE&&!t&&Object(f.jsx)(De,{})]})]}),e&&t&&Object(f.jsx)(ze,{children:Object(f.jsx)(Rn,{game:Te,fen:u,setFen:b,orientation:e===p.HOST?"white":"black",options:!1,position:u})}),Object(f.jsx)(N,{})]})}));c.a.render(Object(f.jsx)(S,{children:Object(f.jsxs)(i.Fragment,{children:[Object(f.jsx)(E,{}),Object(f.jsx)(Pe,{})]})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.7f685275.chunk.js.map